# 模块

## 1. 模块概念
有过C语言编程经验的朋友都知道在C语言中如果要引用sqrt函数，必须用语句`#include <math.h>`引入`math.h`这个头文件，否则是无法正常进行调用的。

在Python中有一个概念叫做模块（module），这个和C语言中的头文件以及Java中的包很类似。模块就好比是工具包，要想使用这个工具包中的工具(就好比函数)，就需要导入这个模块

## 2. 定义模块
在Python中，每个Python文件都可以作为一个模块，模块的名字就是文件的名字。如果模块需要在其他地方使用，文件名需要严格遵循标识符命名规范。模块中的函数和全局变量都可以提供给外部调用。
## 3. 使用模块
### 1) import
在Python中用关键字import来引入某个模块。使用`模块名.成员名`方式调用的。

```py
import math     # 引入math模块

math.sqrt(4)    # 调用math模块sqrt函数
```

### 2) from ... import ...
如果要引用某个模块中指定成员,可以使用`from ... import ...`语法。这只会单独引入指定的成员，而不会引入整个模块。

```py
from math import sqrt,sin   # 引入math模块的sqrt和sin函数

sqrt(4)                 # 调用引入的模块函数
sin(60)

'''
此方式引入，调用函数时只能给出函数名，不能给出模块名
当多个模块中含有相同名称函数时，后面引入会覆盖前面引入

如先引入A模块funciton(),再引入B模块function(),调用function函数会执行B模块的function()
'''
```

::: tip 引入模块全部内容
如果要引入一个模块的全部内容有以下两种方式。
:::
```py
import module

from module import *
```


第一种方式通过模块名.成员名访问模块成员。第二种方式直接使用成员名访问模块成员，会存在不同模块之间同名成员覆盖的问题(可以通过`as`使用别名区分)。推荐使用第一种方式。

### 3) as
`import`模块时可以使用`as`关键字定义模块或模块成员别名。定义别名后原名不能再使用。

* 模块别名

```py
import math as mt

mt.sqrt(4)
```

* 模块成员别名

```py
from math import sqrt as kf

kf(4)
```

### 4）定位模块
导入模块后，Python解析器对模块位置的搜索顺序如下：

* 当前目录
* Shell变量`PYTHONPATH`下的每个目录。
* 默认路径。UNIX下，默认路径一般为`/usr/local/lib/python/`

模块搜索路径存储在`sys`模块的`sys.path`变量中。变量里包含当前目录，`PYTHONPATH`和由安装过程决定的默认目录。

## 4. 测试模块
实际开中，模块编写完成后，为了验证模块是否达到预期效果，通常会在模块文件中添加一些测试代码，但测试代码不应该在模块被外部调用时执行。

Python文件在执行时有一个`__name__`变量表征当前代码被执行调用的文件。此变量值为`__main__`时表示当前在模块定义文件内部执行,否则为模块被外部调用，值为引用此模块的文件名(不含扩展名)。因此，我们可以选择性的执行模块测试代码。

```py
def sum(a, b):
    return a + b


# 以下测试代码只会在该模块内部执行
if __name__ == '__main__':
    a = 1
    b = 2
    c = sum(a, b)
    print("test inside. %d + %d = %d" % (a, b, c))
```

## 5. 包
